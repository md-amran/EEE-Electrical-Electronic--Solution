<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IoT ড্যাশবোর্ড - EE Hub</title>
    <link rel="stylesheet" href="../style.css">
    <link rel="stylesheet" href="../css/dashboard-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Hind+Siliguri:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- MQTT -->
    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
</head>
<body>
    <!-- নেভিগেশন বার -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="logo">
                <i class="fas fa-bolt"></i>
                <span>EE Hub</span>
            </div>
            
            <div class="nav-menu">
                <a href="../index.html" class="nav-item">
                    <i class="fas fa-home"></i> হোম
                </a>
                <a href="../html/rcc_index.html" class="nav-item">
                    <i class="fas fa-palette"></i> রেজিস্টর কালার কোড
                </a>
                <a href="../html/components_index.html" class="nav-item">
                    <i class="fas fa-microchip"></i> কম্পোনেন্টস
                </a>
                <a href="../html/code_editor_index.html" class="nav-item">
                    <i class="fas fa-code"></i> কোড এডিটর
                </a>
                <a href="iot_dashboard_index.html" class="nav-item active">
                    <i class="fas fa-project-diagram"></i> IoT প্রোজেক্ট
                </a>
                <a href="../html/help_index.html" class="nav-item">
                    <i class="fas fa-question-circle"></i> হেল্প
                </a>
            </div>
            
            <div class="nav-auth">
                <div class="user-menu" id="userMenu">
                    <!-- লগইন করলে ইউজার মেনু দেখাবে -->
                </div>
            </div>
            
            <button class="mobile-toggle" id="mobileToggle">
                <i class="fas fa-bars"></i>
            </button>
        </div>
        
        <div class="mobile-menu" id="mobileMenu">
            <!-- মোবাইল মেনু আইটেম -->
        </div>
    </nav>

    <!-- IoT ড্যাশবোর্ড -->
    <div class="dashboard-container">
        <!-- ড্যাশবোর্ড হেডার -->
        <div class="dashboard-header">
            <div class="header-left">
                <h1><i class="fas fa-project-diagram"></i> IoT প্রোজেক্ট ড্যাশবোর্ড</h1>
                <p class="subtitle">আপনার IoT ডিভাইসগুলো কন্ট্রোল করুন এবং রিয়েল-টাইম ডাটা মনিটর করুন</p>
            </div>
            
            <div class="header-right">
                <div class="connection-status">
                    <div class="status-indicator" id="mqttStatus">
                        <div class="status-dot"></div>
                        <span>MQTT ডিসকানেক্টেড</span>
                    </div>
                    <button class="btn btn-sm" id="connectBtn">
                        <i class="fas fa-plug"></i> কানেক্ট
                    </button>
                </div>
                
                <div class="header-actions">
                    <button class="btn btn-outline" id="newProjectBtn">
                        <i class="fas fa-plus"></i> নতুন প্রোজেক্ট
                    </button>
                    <button class="btn btn-primary" id="refreshBtn">
                        <i class="fas fa-sync-alt"></i> রিফ্রেশ
                    </button>
                </div>
            </div>
        </div>

        <!-- মূল কন্টেন্ট -->
        <div class="dashboard-content">
            <!-- বাম সাইডবার -->
            <div class="dashboard-sidebar">
                <div class="sidebar-section">
                    <h3><i class="fas fa-th-large"></i> প্রোজেক্টস</h3>
                    <div class="project-list" id="projectList">
                        <!-- প্রোজেক্ট লিস্ট -->
                    </div>
                    <button class="btn btn-sm btn-block" id="addProjectBtn">
                        <i class="fas fa-plus"></i> প্রোজেক্ট যোগ করুন
                    </button>
                </div>

                <div class="sidebar-section">
                    <h3><i class="fas fa-microchip"></i> ডিভাইস</h3>
                    <div class="device-list" id="deviceList">
                        <!-- ডিভাইস লিস্ট -->
                    </div>
                    <button class="btn btn-sm btn-block" id="addDeviceBtn">
                        <i class="fas fa-plus"></i> ডিভাইস যোগ করুন
                    </button>
                </div>

                <div class="sidebar-section">
                    <h3><i class="fas fa-filter"></i> ফিল্টার</h3>
                    <div class="filter-options">
                        <div class="filter-group">
                            <label for="filterStatus">স্ট্যাটাস</label>
                            <select id="filterStatus" class="select-control">
                                <option value="all">সকল</option>
                                <option value="online">অনলাইন</option>
                                <option value="offline">অফলাইন</option>
                                <option value="warning">সতর্কতা</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="filterType">টাইপ</label>
                            <select id="filterType" class="select-control">
                                <option value="all">সকল</option>
                                <option value="sensor">সেন্সর</option>
                                <option value="actuator">অ্যাকচুয়েটর</option>
                                <option value="controller">কন্ট্রোলার</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- মূল ড্যাশবোর্ড -->
            <div class="dashboard-main">
                <!-- কুইক স্ট্যাটস -->
                <div class="quick-stats">
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #667eea, #764ba2)">
                            <i class="fas fa-microchip"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="totalDevices">0</div>
                            <div class="stat-label">মোট ডিভাইস</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #10b981, #059669)">
                            <i class="fas fa-wifi"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="onlineDevices">0</div>
                            <div class="stat-label">অনলাইন</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706)">
                            <i class="fas fa-exclamation-triangle"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="warningDevices">0</div>
                            <div class="stat-label">সতর্কতা</div>
                        </div>
                    </div>
                    
                    <div class="stat-card">
                        <div class="stat-icon" style="background: linear-gradient(135deg, #3b82f6, #2563eb)">
                            <i class="fas fa-database"></i>
                        </div>
                        <div class="stat-info">
                            <div class="stat-value" id="dataPoints">0</div>
                            <div class="stat-label">ডাটা পয়েন্ট</div>
                        </div>
                    </div>
                </div>

                <!-- সক্রিয় প্রোজেক্ট -->
                <div class="active-project" id="activeProject">
                    <!-- সক্রিয় প্রোজেক্টের তথ্য -->
                </div>

                <!-- ডিভাইস কন্ট্রোল প্যানেল -->
                <div class="control-panel">
                    <div class="panel-header">
                        <h3><i class="fas fa-sliders-h"></i> ডিভাইস কন্ট্রোল</h3>
                        <div class="panel-actions">
                            <button class="btn btn-sm" id="saveLayoutBtn">
                                <i class="fas fa-save"></i> লেআউট সংরক্ষণ
                            </button>
                        </div>
                    </div>
                    
                    <div class="controls-grid" id="controlsGrid">
                        <!-- ডিভাইস কন্ট্রোল কার্ড -->
                    </div>
                </div>

                <!-- ডাটা ভিজুয়ালাইজেশন -->
                <div class="visualization-panel">
                    <div class="panel-header">
                        <h3><i class="fas fa-chart-line"></i> ডাটা ভিজুয়ালাইজেশন</h3>
                        <div class="panel-tabs">
                            <button class="tab-btn active" data-chart="line">লাইন চার্ট</button>
                            <button class="tab-btn" data-chart="bar">বার চার্ট</button>
                            <button class="tab-btn" data-chart="gauge">গেজ</button>
                            <button class="tab-btn" data-chart="map">ম্যাপ</button>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="dataChart"></canvas>
                    </div>
                    
                    <div class="chart-controls">
                        <select id="chartMetric" class="select-control">
                            <option value="temperature">তাপমাত্রা</option>
                            <option value="humidity">আর্দ্রতা</option>
                            <option value="voltage">ভোল্টেজ</option>
                            <option value="current">কারেন্ট</option>
                        </select>
                        <select id="chartTime" class="select-control">
                            <option value="1h">১ ঘন্টা</option>
                            <option value="6h">৬ ঘন্টা</option>
                            <option value="24h">২৪ ঘন্টা</option>
                            <option value="7d">৭ দিন</option>
                        </select>
                        <button class="btn btn-sm" id="exportChartBtn">
                            <i class="fas fa-download"></i> এক্সপোর্ট
                        </button>
                    </div>
                </div>

                <!-- রিয়েল-টাইম ডাটা -->
                <div class="realtime-data">
                    <div class="panel-header">
                        <h3><i class="fas fa-bolt"></i> রিয়েল-টাইম ডাটা স্ট্রিম</h3>
                        <div class="panel-actions">
                            <button class="btn btn-sm" id="pauseStreamBtn">
                                <i class="fas fa-pause"></i> থামান
                            </button>
                        </div>
                    </div>
                    
                    <div class="data-stream" id="dataStream">
                        <!-- রিয়েল-টাইম ডাটা এখানে আসবে -->
                    </div>
                </div>
            </div>

            <!-- ডান সাইডবার -->
            <div class="dashboard-rightbar">
                <div class="rightbar-section">
                    <h3><i class="fas fa-cogs"></i> সেটিংস</h3>
                    <div class="settings-group">
                        <div class="setting-item">
                            <label for="mqttBroker">MQTT ব্রোকার</label>
                            <input type="text" id="mqttBroker" value="wss://test.mosquitto.org:8081" placeholder="mqtt://broker.url">
                        </div>
                        <div class="setting-item">
                            <label for="updateInterval">আপডেট ইন্টারভাল</label>
                            <select id="updateInterval" class="select-control">
                                <option value="1000">১ সেকেন্ড</option>
                                <option value="5000" selected>৫ সেকেন্ড</option>
                                <option value="10000">১০ সেকেন্ড</option>
                                <option value="30000">৩০ সেকেন্ড</option>
                            </select>
                        </div>
                        <div class="setting-item">
                            <label for="dataRetention">ডাটা রিটেনশন</label>
                            <select id="dataRetention" class="select-control">
                                <option value="1">১ দিন</option>
                                <option value="7" selected>৭ দিন</option>
                                <option value="30">৩০ দিন</option>
                                <option value="90">৯০ দিন</option>
                            </select>
                        </div>
                        <button class="btn btn-primary btn-block" id="saveSettingsBtn">
                            <i class="fas fa-save"></i> সেটিংস সংরক্ষণ
                        </button>
                    </div>
                </div>

                <div class="rightbar-section">
                    <h3><i class="fas fa-bell"></i> নোটিফিকেশন</h3>
                    <div class="notifications-list" id="notificationsList">
                        <!-- নোটিফিকেশন লিস্ট -->
                    </div>
                </div>

                <div class="rightbar-section">
                    <h3><i class="fas fa-history"></i> সম্প্রতিক অ্যাক্টিভিটি</h3>
                    <div class="activity-log" id="activityLog">
                        <!-- অ্যাক্টিভিটি লগ -->
                    </div>
                </div>
            </div>
        </div>

        <!-- ড্যাশবোর্ড ফুটার -->
        <div class="dashboard-footer">
            <div class="footer-info">
                <div class="info-item">
                    <i class="fas fa-server"></i>
                    <span>সার্ভার: <strong id="serverStatus">অনলাইন</strong></span>
                </div>
                <div class="info-item">
                    <i class="fas fa-clock"></i>
                    <span>লাস্ট আপডেট: <strong id="lastUpdate">--:--:--</strong></span>
                </div>
                <div class="info-item">
                    <i class="fas fa-memory"></i>
                    <span>মেমোরি: <strong id="memoryUsage">-- MB</strong></span>
                </div>
            </div>
            
            <div class="footer-actions">
                <button class="btn btn-outline" id="helpBtn">
                    <i class="fas fa-question-circle"></i> হেল্প
                </button>
                <button class="btn btn-primary" id="fullscreenBtn">
                    <i class="fas fa-expand"></i> ফুলস্ক্রিন
                </button>
            </div>
        </div>
    </div>

    <!-- মডাল ডায়ালগ -->
    <div class="modal" id="projectModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-project-diagram"></i> নতুন প্রোজেক্ট</h3>
                <button class="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="projectName">প্রোজেক্ট নাম</label>
                    <input type="text" id="projectName" placeholder="যেমন: স্মার্ট হোম">
                </div>
                <div class="form-group">
                    <label for="projectDescription">বর্ণনা</label>
                    <textarea id="projectDescription" rows="3" placeholder="প্রোজেক্টের বিস্তারিত বর্ণনা"></textarea>
                </div>
                <div class="form-group">
                    <label for="projectType">প্রোজেক্ট টাইপ</label>
                    <select id="projectType">
                        <option value="home-automation">হোম অটোমেশন</option>
                        <option value="industrial">ইন্ডাস্ট্রিয়াল</option>
                        <option value="agriculture">কৃষি</option>
                        <option value="environment">পরিবেশ মনিটরিং</option>
                        <option value="energy">এনার্জি ম্যানেজমেন্ট</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="projectImage">প্রোজেক্ট ছবি (URL)</label>
                    <input type="text" id="projectImage" placeholder="https://example.com/image.jpg">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancelProjectBtn">বাতিল</button>
                <button class="btn btn-primary" id="saveProjectBtn">তৈরি করুন</button>
            </div>
        </div>
    </div>

    <div class="modal" id="deviceModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-microchip"></i> নতুন ডিভাইস</h3>
                <button class="modal-close">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-row">
                    <div class="form-group">
                        <label for="deviceName">ডিভাইস নাম</label>
                        <input type="text" id="deviceName" placeholder="যেমন: লিভিং রুম সেন্সর">
                    </div>
                    <div class="form-group">
                        <label for="deviceType">ডিভাইস টাইপ</label>
                        <select id="deviceType">
                            <option value="temperature">তাপমাত্রা সেন্সর</option>
                            <option value="humidity">আর্দ্রতা সেন্সর</option>
                            <option value="motion">মোশন সেন্সর</option>
                            <option value="light">লাইট সেন্সর</option>
                            <option value="relay">রিলে</option>
                            <option value="led">LED</option>
                            <option value="servo">সার্ভো মোটর</option>
                        </select>
                    </div>
                </div>
                <div class="form-group">
                    <label for="deviceId">ডিভাইস ID</label>
                    <input type="text" id="deviceId" placeholder="DHT22_001">
                </div>
                <div class="form-group">
                    <label for="deviceTopic">MQTT টপিক</label>
                    <input type="text" id="deviceTopic" placeholder="eehub/device/temperature">
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="devicePin">পিন নম্বর</label>
                        <input type="number" id="devicePin" placeholder="13">
                    </div>
                    <div class="form-group">
                        <label for="deviceProject">প্রোজেক্ট</label>
                        <select id="deviceProject">
                            <!-- প্রোজেক্ট অপশন -->
                        </select>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" id="cancelDeviceBtn">বাতিল</button>
                <button class="btn btn-primary" id="saveDeviceBtn">যোগ করুন</button>
            </div>
        </div>
    </div>

    <!-- ফুটার -->
    <footer class="footer">
        <div class="footer-content">
            <!-- হোমপেজ ফুটারের মতো -->
        </div>
    </footer>

    <script src="../script.js"></script>
    <script src="../javascript/dashboard-script.js"></script>
</body>
</html>